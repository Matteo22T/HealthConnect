<div class="admin-dashboard">

  <div class="dashboard-grid">
    <app-stat-card-admin tipo="pazienti-tot"  icona="ðŸ‘¥" etichetta="Pazienti Totali" [contatore]="pazienti"></app-stat-card-admin>
    <app-stat-card-admin tipo="medici-attivi"    icona="ðŸ‘¨â€âš•ï¸" etichetta="Medici Attivi" [contatore]="medici"></app-stat-card-admin>
    <app-stat-card-admin tipo="visite" icona="ï¸ðŸ“…" etichetta="Visite questo mese" [contatore]="visite"></app-stat-card-admin>
  </div>

  <div class="main-grid">

    <app-lista-pending [mediciDaApprovare]="mediciDaApprovare" (accettaMedico)="accettaMedico($event)" (rifiutaMedico)="rifiutaMedico($event)"></app-lista-pending>
    <app-lista-utenti [utenti]="utenti"></app-lista-utenti>
  </div>



  <div class="main-content-grid">

    <div class="content-panel users-panel">
      <div class="panel-header">
        <h2>Ultimi Utenti Iscritti</h2>
        <a href="#" class="view-all">Vedi tutti</a>
      </div>
      <div class="table-responsive">
        <table class="admin-table">
          <thead>
          <tr>
            <th>Utente</th>
            <th>Ruolo</th>
            <th>Data Iscrizione</th>
            <th>Stato</th>
            <th>Azioni</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>
              <div class="user-cell">
                <div class="avatar">M</div>
                <span>Mario Rossi</span>
              </div>
            </td>
            <td><span class="badge patient">Paziente</span></td>
            <td>20 Dic 2025</td>
            <td><span class="status active">Attivo</span></td>
            <td><button class="icon-btn">â‹®</button></td>
          </tr>
          <tr>
            <td>
              <div class="user-cell">
                <div class="avatar doc">A</div>
                <span>Dr. Andrea Neri</span>
              </div>
            </td>
            <td><span class="badge doctor">Medico</span></td>
            <td>15 Dic 2025</td>
            <td><span class="status active">Attivo</span></td>
            <td><button class="icon-btn">â‹®</button></td>
          </tr>
          <tr>
            <td>
              <div class="user-cell">
                <div class="avatar">L</div>
                <span>Luca Bianchi</span>
              </div>
            </td>
            <td><span class="badge patient">Paziente</span></td>
            <td>18 Dic 2025</td>
            <td><span class="status active">Attivo</span></td>
            <td><button class="icon-btn">â‹®</button></td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="content-panel activity-panel">
      <div class="panel-header">
        <h2>Log Sistema</h2>
      </div>
      <ul class="activity-list">
        <li class="activity-item">
          <span class="dot blue"></span>
          <div class="activity-text">
            <strong>Nuovo Medico registrato</strong>
            <span class="time">10 minuti fa</span>
          </div>
        </li>
        <li class="activity-item">
          <span class="dot green"></span>
          <div class="activity-text">
            <strong>Backup Database completato</strong>
            <span class="time">2 ore fa</span>
          </div>
        </li>
        <li class="activity-item">
          <span class="dot red"></span>
          <div class="activity-text">
            <strong>Errore API Pagamenti</strong>
            <span class="time">5 ore fa</span>
          </div>
        </li>
        <li class="activity-item">
          <span class="dot purple"></span>
          <div class="activity-text">
            <strong>150 Email inviate</strong>
            <span class="time">Ieri, 18:30</span>
          </div>
        </li>
      </ul>
    </div>

  </div>

  <script>
    function approveDoctor(name) {
      if(confirm(`Vuoi approvare ${name}?`)) {
        alert(`âœ“ ${name} Ã¨ stato approvato con successo!`);
        // Qui andrÃ  la chiamata API per approvare il medico
      }
    }

    function rejectDoctor(name) {
      if(confirm(`Sei sicuro di voler rifiutare ${name}?`)) {
        alert(`âœ— ${name} Ã¨ stato rifiutato.`);
        // Qui andrÃ  la chiamata API per rifiutare il medico
      }
    }
  </script>
</div>
